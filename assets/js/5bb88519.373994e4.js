"use strict";(self.webpackChunkcormo_doc=self.webpackChunkcormo_doc||[]).push([[31],{8037:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var r=t(4848),o=t(8453);const i={id:"constraint",title:"Constraint"},s=void 0,a={id:"constraint",title:"Constraint",description:"Currently CORMO supports 'unique' and 'required'(not null).",source:"@site/docs/constraint.md",sourceDirName:".",slug:"/constraint",permalink:"/cormo/docs/constraint",draft:!1,unlisted:!1,editUrl:"https://github.com/croquiscom/cormo/tree/main/doc/docs/constraint.md",tags:[],version:"current",frontMatter:{id:"constraint",title:"Constraint"},sidebar:"docs",previous:{title:"Aggregation",permalink:"/cormo/docs/aggregation"},next:{title:"Association",permalink:"/cormo/docs/association"}},c={},l=[];function u(e){const n={code:"code",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Currently CORMO supports 'unique' and 'required'(not null)."}),"\n",(0,r.jsx)(n.p,{children:"'unique' is supported on the database layer.\nIf unique constraint is violated, 'duplicated <column name>' error will be throwed.\n(In some adpater, just 'duplicated' will be throwed.)"}),"\n",(0,r.jsx)(n.p,{children:"'required' is supported on the CORMO layer(while validating) or the database layer.\nIf required constraint is violated, '<column name>' is required' error will be throwed."}),"\n",(0,r.jsx)(n.p,{children:"The column unique but not required can have multiple null values."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"@cormo.Model()\nclass User extends cormo.BaseModel {\n  @cormo.Column({ type: String, required: true })\n  name!: string;\n\n  @cormo.Column({ type: Number, required: true })\n  age!: number;\n\n  @cormo.Column({ type: String, unique: true, required: true })\n  email!: string;\n}\n\nconst user1 = await User.create({ name: 'Bill Smith', age: 45, email: 'bill@foo.org' });\ntry {\n  const user2 = await User.create({ name: 'Bill Simpson', age: 38, email: 'bill@foo.org' });\n} catch (error: any) {\n  // error.message will be 'duplicated email' or 'duplicated'\n}\n"})})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var r=t(6540);const o={},i=r.createContext(o);function s(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);